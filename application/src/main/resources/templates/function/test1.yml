id: test1-template
kind: python
name: process-measures
type: function
metadata:
  name: process-measures
  embedded: false
spec:
  python_version: PYTHON3_10
  source:
    source: src/process-measures.py
    base64: CmZyb20gZGlnaXRhbGh1Yl9ydW50aW1lX3B5dGhvbiBpbXBvcnQgaGFuZGxlcgppbXBvcnQgcGFuZGFzIGFzIHBkCgpLRVlTID0gWycwMDowMC0wMTowMCcsICcwMTowMC0wMjowMCcsICcwMjowMC0wMzowMCcsICcwMzowMC0wNDowMCcsICcwNDowMC0wNTowMCcsICcwNTowMC0wNjowMCcsICcwNjowMC0wNzowMCcsICcwNzowMC0wODowMCcsICcwODowMC0wOTowMCcsICcwOTowMC0xMDowMCcsICcxMDowMC0xMTowMCcsICcxMTowMC0xMjowMCcsICcxMjowMC0xMzowMCcsICcxMzowMC0xNDowMCcsICcxNDowMC0xNTowMCcsICcxNTowMC0xNjowMCcsICcxNjowMC0xNzowMCcsICcxNzowMC0xODowMCcsICcxODowMC0xOTowMCcsICcxOTowMC0yMDowMCcsICcyMDowMC0yMTowMCcsICcyMTowMC0yMjowMCcsICcyMjowMC0yMzowMCcsICcyMzowMC0yNDowMCddCkNPTFVNTlM9WydkYXRhJywnY29kaWNlIHNwaXJhJ10KCkBoYW5kbGVyKG91dHB1dHM9WyJkYXRhc2V0LW1lYXN1cmVzIl0pCmRlZiBwcm9jZXNzKHByb2plY3QsIGRpKToKICAgIGRmID0gZGkuYXNfZGYoKQogICAgcmRmID0gZGZbQ09MVU1OUytLRVlTXQogICAgbHMgPSBbXQogICAgZm9yIGtleSBpbiBLRVlTOgogICAgICAgIGsgPSBrZXkuc3BsaXQoIi0iKVswXQogICAgICAgIHhkZiA9IHJkZltDT0xVTU5TICsgW2tleV1dCiAgICAgICAgeGRmWyd0aW1lJ10gPSB4ZGYuZGF0YS5hcHBseShsYW1iZGEgeDogeCsnICcgK2spCiAgICAgICAgeGRmWyd2YWx1ZSddID0geGRmW2tleV0KICAgICAgICBscy5hcHBlbmQoeGRmW1sndGltZScsJ2NvZGljZSBzcGlyYScsJ3ZhbHVlJ11dKQogICAgZWRmID0gcGQuY29uY2F0KGxzKQogICAgcmV0dXJuIGVkZgo=
    handler: process
    lang: python